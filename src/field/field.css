/* ==========================================================================
   FIELD SYSTEM STYLES - Ardycia Design System
   Aesthetic: Adventure Gothic ground + ScrollLink OS HUD
   ========================================================================== */

.field-root {
  width: 100vw;
  height: 100vh;
  display: flex;
  flex-direction: column;
  background: var(--bg-world, #1a1917);
  font-family: var(--font-ui, 'Inter', sans-serif);
  color: var(--ink, #e8e4dc);
  overflow: hidden;
  position: relative;
}

/* Header - ScrollLink OS Style */
.field-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: var(--space-3, 0.75rem) var(--space-4, 1rem);
  background: var(--bg-panel-alt, #3b2f24);
  border-bottom: var(--stroke-2, 2px) solid var(--stroke-panel, #7a5a32);
  z-index: 100;
  flex-shrink: 0;
}

.field-header-buttons {
  display: flex;
  gap: var(--space-2, 0.5rem);
  align-items: center;
}

.field-basecamp-btn {
  padding: var(--space-2, 0.5rem) var(--space-4, 1rem);
  background: var(--bg-surface, #2d2c2a);
  border: var(--stroke-1, 1px) solid var(--stroke-subtle, rgba(168, 124, 69, 0.25));
  border-radius: var(--radius-sm, 3px);
  color: var(--tech-amber, #ffcc6e);
  font-family: var(--font-terminal, 'JetBrains Mono', monospace);
  font-size: var(--text-xs, 0.6875rem);
  font-weight: var(--weight-semibold, 600);
  text-transform: uppercase;
  letter-spacing: var(--tracking-wide, 0.05em);
  cursor: pointer;
  transition: all var(--transition-base, 0.15s ease);
  pointer-events: auto !important;
  position: relative;
  z-index: 101;
  user-select: none;
}

.field-basecamp-btn:hover {
  background: var(--interactive-hover, #6b5d4f);
  border-color: var(--accent-bronze, #a87c45);
  box-shadow: 0 0 8px var(--tech-amber-glow, rgba(255, 204, 110, 0.4));
}

.field-basecamp-btn:active {
  transform: scale(0.98);
}

.field-header-title {
  font-family: var(--font-terminal, 'JetBrains Mono', monospace);
  font-size: var(--text-sm, 0.75rem);
  font-weight: var(--weight-semibold, 600);
  color: var(--tech-crt, #35ff95);
  letter-spacing: var(--tracking-widest, 0.15em);
  text-transform: uppercase;
  text-shadow: 0 0 8px var(--tech-crt-glow, rgba(53, 255, 149, 0.4));
}

.field-exit-btn {
  padding: var(--space-2, 0.5rem) var(--space-4, 1rem);
  background: var(--accent-oxide-dark, #4a2020);
  border: var(--stroke-1, 1px) solid var(--accent-oxide, #6b2f2f);
  border-radius: var(--radius-sm, 3px);
  color: var(--tech-red, #ff6b5e);
  font-family: var(--font-terminal, 'JetBrains Mono', monospace);
  font-size: var(--text-xs, 0.6875rem);
  font-weight: var(--weight-semibold, 600);
  cursor: pointer;
  transition: all var(--transition-base, 0.15s ease);
}

.field-exit-btn:hover {
  background: var(--accent-oxide, #6b2f2f);
  border-color: var(--accent-oxide-light, #8a4242);
}

/* Viewport - The Game World */
.field-viewport {
  flex: 1;
  position: relative;
  overflow: hidden;
  background: var(--world-coal, #1a1917);
}

.field-map {
  position: relative;
  background: var(--world-soot, #232220);
}

/* Tiles - Earthy Adventure Gothic */
.field-tile {
  position: absolute;
  border: 1px solid rgba(168, 124, 69, 0.08);
}

.field-tile-walkable {
  background: var(--world-bark, #3b2f24);
}

.field-tile-wall {
  background: var(--world-gunmetal, #3a3a3d);
  border-color: rgba(74, 74, 77, 0.3);
}

.field-tile-floor {
  background: var(--world-walnut, #4d3f34);
}

.field-tile-grass {
  background: var(--world-moss, #3d4a35);
}

.field-tile-dirt {
  background: var(--world-leather, #5c4a3a);
}

.field-tile-stone {
  background: var(--world-iron, #4a4a4d);
}

/* Objects (stations, resources, etc.) - World Panels */
.field-object {
  position: absolute;
  border: var(--stroke-2, 2px) solid var(--stroke-panel, #7a5a32);
  background: var(--bg-panel, #4d3f34);
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: var(--radius-panel, 6px);
  z-index: 10;
  transition: all var(--transition-base, 0.15s ease);
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);
}

.field-object[data-interaction-zone]:hover {
  border-color: var(--accent-bronze, #a87c45);
  background: var(--interactive-hover, #6b5d4f);
  transform: scale(1.03);
  box-shadow:
    0 4px 12px rgba(0, 0, 0, 0.6),
    0 0 15px var(--accent-bronze-glow, rgba(168, 124, 69, 0.4));
}

.field-object-placeholder {
  font-family: var(--font-ui, 'Inter', sans-serif);
  font-size: var(--text-xs, 0.6875rem);
  font-weight: var(--weight-medium, 500);
  color: var(--ink, #e8e4dc);
  text-align: center;
  text-transform: uppercase;
  letter-spacing: var(--tracking-wide, 0.05em);
  padding: 4px;
}

.field-object-station {
  background: var(--bg-panel, #4d3f34);
  border-color: var(--accent-bronze, #a87c45);
}

.field-object-resource {
  background: var(--world-moss, #3d4a35);
  border-color: var(--status-success, #4a9a6a);
  border-radius: 50%;
}

/* Player Avatar */
.field-player {
  position: absolute;
  z-index: 50;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: transform 0.1s linear;
}

.field-player-sprite {
  width: 100%;
  height: 100%;
  background: linear-gradient(135deg, rgba(59, 130, 246, 0.8), rgba(37, 99, 235, 0.9));
  border: 2px solid rgba(59, 130, 246, 1);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 18px;
  font-weight: 700;
  color: white;
  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);
  box-shadow: 0 4px 12px rgba(59, 130, 246, 0.4);
}

/* ==========================================================================
   COMPANION (SABLE) - Headline 15a
   ========================================================================== */

.field-companion {
  position: absolute;
  z-index: 45;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: transform 0.1s linear;
  pointer-events: none;
}

.field-companion-sprite {
  width: 100%;
  height: 100%;
  font-size: 24px;
  display: flex;
  align-items: center;
  justify-content: center;
  filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.5));
  animation: companionBounce 1.5s ease-in-out infinite;
}

.field-companion[data-state="attack"] .field-companion-sprite {
  animation: companionDash 0.3s ease-out;
}

.field-companion[data-state="fetch"] .field-companion-sprite {
  animation: companionFetch 0.5s ease-in-out infinite;
}

@keyframes companionBounce {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-4px); }
}

@keyframes companionDash {
  0% { transform: scale(1); }
  50% { transform: scale(1.2); }
  100% { transform: scale(1); }
}

@keyframes companionFetch {
  0%, 100% { transform: rotate(0deg); }
  25% { transform: rotate(-10deg); }
  75% { transform: rotate(10deg); }
}

/* ==========================================================================
   NPCs - Headline 15b
   ========================================================================== */

.field-npc {
  position: absolute;
  z-index: 40;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  transition: transform 0.2s linear;
  pointer-events: none;
}

.field-npc-sprite {
  width: 100%;
  height: 100%;
  background: linear-gradient(135deg, rgba(139, 69, 19, 0.8), rgba(101, 67, 33, 0.9));
  border: 2px solid rgba(139, 69, 19, 1);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 16px;
  color: white;
  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);
  box-shadow: 0 4px 12px rgba(139, 69, 19, 0.4);
}

.field-npc-name {
  position: absolute;
  top: -20px;
  left: 50%;
  transform: translateX(-50%);
  font-size: 10px;
  color: rgba(255, 255, 255, 0.9);
  background: rgba(0, 0, 0, 0.7);
  padding: 2px 6px;
  border-radius: 4px;
  white-space: nowrap;
  pointer-events: none;
  opacity: 0;
  transition: opacity 0.2s;
}

.field-npc:hover .field-npc-name {
  opacity: 1;
}

/* Interaction Prompt */
.field-interaction-prompt {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  background: rgba(0, 0, 0, 0.9);
  border: 2px solid var(--ard-gold);
  border-radius: var(--radius-md);
  padding: var(--spacing-sm) var(--spacing-lg);
  color: var(--ard-gold);
  font-family: var(--font-mono);
  font-size: var(--font-size-md);
  font-weight: 600;
  letter-spacing: 0.1em;
  text-transform: uppercase;
  z-index: 200;
  pointer-events: none;
  box-shadow: 0 0 20px rgba(243, 163, 16, 0.5);
  animation: pulse-glow 1.5s ease-in-out infinite;
}

@keyframes pulse-glow {
  0%, 100% {
    box-shadow: 0 0 20px rgba(243, 163, 16, 0.5);
  }
  50% {
    box-shadow: 0 0 30px rgba(243, 163, 16, 0.8);
  }
}

/* HUD - Terminal Style */
.field-hud {
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  padding: var(--space-3, 0.75rem) var(--space-4, 1rem);
  background: linear-gradient(180deg, transparent, var(--bg-overlay, rgba(20, 19, 18, 0.92)));
  z-index: 100;
  pointer-events: none;
}

.field-hud-instructions {
  font-family: var(--font-terminal, 'JetBrains Mono', monospace);
  font-size: var(--text-xs, 0.6875rem);
  color: var(--ink-muted, #6b6b6e);
  text-align: center;
  letter-spacing: var(--tracking-wide, 0.05em);
}

/* ============================================================================
   ALL NODES SIDE PANEL - Ardycia Design System
   Slides in from right, takes 1/4 of screen
   ============================================================================ */

.all-nodes-panel {
  position: fixed;
  top: 0;
  right: 0;
  width: 25vw;
  min-width: 280px;
  max-width: 400px;
  height: 100vh;
  background: var(--bg-panel-alt, #3b2f24);
  border-left: var(--stroke-2, 2px) solid var(--stroke-panel, #7a5a32);
  box-shadow: -8px 0 24px rgba(0, 0, 0, 0.7);
  z-index: 1000;
  transform: translateX(100%);
  transition: transform 0.25s ease-out;
  overflow-y: auto;
  overflow-x: hidden;
  pointer-events: none;
}

.all-nodes-panel--open {
  transform: translateX(0);
  pointer-events: auto;
}

.all-nodes-panel-content {
  display: flex;
  flex-direction: column;
  height: 100%;
}

.all-nodes-panel-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: var(--space-3, 0.75rem) var(--space-4, 1rem);
  border-bottom: var(--stroke-1, 1px) solid var(--stroke-subtle, rgba(168, 124, 69, 0.25));
  background: var(--bg-surface, #2d2c2a);
  flex-shrink: 0;
}

.all-nodes-panel-title {
  font-family: var(--font-terminal, 'JetBrains Mono', monospace);
  font-size: var(--text-sm, 0.75rem);
  font-weight: var(--weight-semibold, 600);
  letter-spacing: var(--tracking-wider, 0.1em);
  text-transform: uppercase;
  color: var(--ink-accent, #ffcc6e);
}

.all-nodes-panel-close {
  width: 28px;
  height: 28px;
  border: var(--stroke-1, 1px) solid var(--accent-oxide, #6b2f2f);
  background: var(--accent-oxide-dark, #4a2020);
  color: var(--tech-red, #ff6b5e);
  font-size: 18px;
  line-height: 1;
  border-radius: var(--radius-sm, 3px);
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all var(--transition-base, 0.15s ease);
}

.all-nodes-panel-close:hover {
  background: var(--accent-oxide, #6b2f2f);
  border-color: var(--accent-oxide-light, #8a4242);
  box-shadow: 0 0 8px var(--tech-red-glow, rgba(255, 107, 94, 0.4));
}

.all-nodes-panel-body {
  flex: 1;
  padding: var(--space-4, 1rem);
  display: flex;
  flex-direction: column;
  gap: var(--space-4, 1rem);
  overflow-y: auto;
}

.all-nodes-panel-resources {
  display: flex;
  flex-direction: column;
  gap: var(--space-2, 0.5rem);
  padding: var(--space-3, 0.75rem);
  background: var(--bg-surface, #2d2c2a);
  border-radius: var(--radius-md, 5px);
  border: var(--stroke-1, 1px) solid var(--stroke-subtle, rgba(168, 124, 69, 0.25));
  box-shadow: var(--shadow-inset, inset 0 2px 4px rgba(0, 0, 0, 0.4));
}

.all-nodes-resource-item {
  display: flex;
  justify-content: space-between;
  align-items: center;
  font-size: var(--text-xs, 0.6875rem);
}

.all-nodes-resource-label {
  font-family: var(--font-terminal, 'JetBrains Mono', monospace);
  color: var(--ink-muted, #6b6b6e);
  letter-spacing: var(--tracking-wide, 0.05em);
}

.all-nodes-resource-value {
  font-family: var(--font-terminal, 'JetBrains Mono', monospace);
  color: var(--ink, #e8e4dc);
  font-weight: var(--weight-bold, 700);
}

.all-nodes-panel-buttons {
  display: flex;
  flex-direction: column;
  gap: var(--space-2, 0.5rem);
}

.all-nodes-btn {
  display: flex;
  align-items: center;
  gap: var(--space-3, 0.75rem);
  padding: var(--space-3, 0.75rem) var(--space-4, 1rem);
  border-radius: var(--radius-panel, 6px);
  border: var(--stroke-2, 2px) solid var(--stroke-panel, #7a5a32);
  background: var(--bg-panel, #4d3f34);
  color: var(--ink, #e8e4dc);
  font-family: var(--font-ui, 'Inter', sans-serif);
  font-size: var(--text-sm, 0.75rem);
  text-align: left;
  letter-spacing: var(--tracking-wide, 0.05em);
  text-transform: uppercase;
  cursor: pointer;
  transition: all var(--transition-base, 0.15s ease);
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);
}

.all-nodes-btn:hover {
  border-color: var(--stroke-panel-hover, #a87c45);
  background: var(--interactive-hover, #6b5d4f);
  transform: translateY(-1px);
  box-shadow:
    0 4px 12px rgba(0, 0, 0, 0.6),
    0 0 15px var(--accent-bronze-glow, rgba(168, 124, 69, 0.4));
}

.all-nodes-btn:active {
  transform: translateY(0);
}

.all-nodes-btn .btn-icon {
  font-family: var(--font-terminal, 'JetBrains Mono', monospace);
  font-size: var(--text-xs, 0.6875rem);
  font-weight: var(--weight-bold, 700);
  color: var(--tech-amber, #ffcc6e);
  flex-shrink: 0;
  width: 28px;
  height: 20px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: var(--bg-surface, #2d2c2a);
  border: var(--stroke-1, 1px) solid var(--stroke-subtle, rgba(168, 124, 69, 0.25));
  border-radius: var(--radius-sm, 3px);
}

.all-nodes-btn .btn-label {
  flex: 1;
  font-weight: var(--weight-medium, 500);
}

/* Mode toggle switch - Panel version */
.all-nodes-mode-toggle {
  display: flex;
  flex-direction: column;
  gap: var(--space-2, 0.5rem);
  padding: var(--space-3, 0.75rem);
  background: var(--bg-surface, #2d2c2a);
  border-radius: var(--radius-md, 5px);
  border: var(--stroke-1, 1px) solid var(--stroke-subtle, rgba(168, 124, 69, 0.25));
  margin-bottom: var(--space-2, 0.5rem);
}

.all-nodes-mode-toggle-label {
  font-family: var(--font-terminal, 'JetBrains Mono', monospace);
  font-size: var(--text-xs, 0.6875rem);
  color: var(--ink-muted, #6b6b6e);
  letter-spacing: var(--tracking-wider, 0.1em);
  text-transform: uppercase;
  margin-bottom: var(--space-1, 0.25rem);
}

.all-nodes-mode-toggle-switch {
  display: flex;
  gap: var(--space-2, 0.5rem);
}

.all-nodes-mode-btn {
  flex: 1;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: var(--space-1, 0.25rem);
  padding: var(--space-2, 0.5rem);
  border-radius: var(--radius-sm, 3px);
  border: var(--stroke-1, 1px) solid transparent;
  background: transparent;
  color: var(--ink-muted, #6b6b6e);
  font-family: var(--font-terminal, 'JetBrains Mono', monospace);
  font-size: var(--text-xs, 0.6875rem);
  text-align: center;
  letter-spacing: var(--tracking-wide, 0.05em);
  text-transform: uppercase;
  cursor: pointer;
  transition: all var(--transition-base, 0.15s ease);
}

.all-nodes-mode-btn:hover {
  color: var(--ink, #e8e4dc);
  background: var(--interactive-hover, #6b5d4f);
}

.all-nodes-mode-btn--active {
  color: var(--ink-accent, #ffcc6e);
  background: var(--interactive-active, #a87c45);
  border-color: var(--accent-bronze, #a87c45);
  box-shadow: 0 -2px 0 var(--tech-amber, #ffcc6e) inset;
}

.all-nodes-mode-btn .mode-icon {
  font-size: 14px;
  opacity: 0.7;
}

.all-nodes-mode-btn .mode-label {
  font-size: var(--text-xs, 0.6875rem);
  font-weight: var(--weight-semibold, 600);
}

/* ============================================================================
   ALL NODES MENU SCREEN - Ardycia Design System Implementation
   Aesthetic: Adventure Gothic + ScrollLink OS + FFTA Menus
   ============================================================================ */

.all-nodes-menu-screen {
  position: relative;
  width: 100vw;
  height: 100vh;
  display: flex;
  flex-direction: column;
  background: var(--bg-world, #1a1917);
  font-family: var(--font-ui, 'Inter', sans-serif);
  color: var(--ink, #e8e4dc);
  overflow: hidden;
}

/* Noise texture overlay */
.all-nodes-menu-screen.ard-noise::before {
  content: '';
  position: absolute;
  inset: 0;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)' opacity='0.5'/%3E%3C/svg%3E");
  opacity: 0.03;
  pointer-events: none;
  z-index: 0;
}

/* Header - ScrollLink OS Terminal Style */
.all-nodes-menu-header {
  position: relative;
  z-index: 1;
  padding: var(--space-4, 1rem) var(--space-6, 1.5rem);
  background: var(--bg-panel-alt, #3b2f24);
  border-bottom: var(--stroke-2, 2px) solid var(--stroke-panel, #7a5a32);
  text-align: center;
}

.all-nodes-terminal-bar {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: var(--space-2, 0.5rem);
  margin-bottom: var(--space-3, 0.75rem);
}

.terminal-indicator {
  width: 8px;
  height: 8px;
  background: var(--tech-crt, #35ff95);
  border-radius: 50%;
  box-shadow: 0 0 8px var(--tech-crt-glow, rgba(53, 255, 149, 0.4));
  animation: terminal-pulse 2s ease-in-out infinite;
}

@keyframes terminal-pulse {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.5; }
}

.terminal-text {
  font-family: var(--font-terminal, 'JetBrains Mono', monospace);
  font-size: var(--text-xs, 0.6875rem);
  letter-spacing: var(--tracking-widest, 0.15em);
  color: var(--tech-crt, #35ff95);
  text-transform: uppercase;
  text-shadow: 0 0 8px var(--tech-crt-glow, rgba(53, 255, 149, 0.4));
}

.all-nodes-menu-title {
  font-size: var(--text-2xl, 1.5rem);
  font-weight: var(--weight-bold, 700);
  letter-spacing: var(--tracking-wider, 0.1em);
  text-transform: uppercase;
  color: var(--ink-accent, #ffcc6e);
  margin: 0 0 var(--space-1, 0.25rem) 0;
}

.all-nodes-menu-subtitle {
  font-size: var(--text-xs, 0.6875rem);
  font-weight: var(--weight-medium, 500);
  letter-spacing: var(--tracking-widest, 0.15em);
  text-transform: uppercase;
  color: var(--ink-muted, #6b6b6e);
  margin: 0;
}

/* Mode Toggle - FFTA-style tabs */
.all-nodes-menu-mode-toggle {
  position: relative;
  z-index: 1;
  display: flex;
  justify-content: center;
  gap: var(--space-1, 0.25rem);
  padding: var(--space-3, 0.75rem) var(--space-6, 1.5rem);
  background: var(--bg-surface, #2d2c2a);
}

.all-nodes-mode-tab {
  display: flex;
  align-items: center;
  gap: var(--space-2, 0.5rem);
  padding: var(--space-2, 0.5rem) var(--space-5, 1.25rem);
  background: transparent;
  border: var(--stroke-1, 1px) solid transparent;
  border-radius: var(--radius-sm, 3px);
  font-family: var(--font-terminal, 'JetBrains Mono', monospace);
  font-size: var(--text-sm, 0.75rem);
  font-weight: var(--weight-medium, 500);
  text-transform: uppercase;
  letter-spacing: var(--tracking-wide, 0.05em);
  color: var(--ink-muted, #6b6b6e);
  cursor: pointer;
  transition: all var(--transition-base, 0.15s ease);
}

.all-nodes-mode-tab:hover {
  color: var(--ink, #e8e4dc);
  background: var(--interactive-hover, #6b5d4f);
}

.all-nodes-mode-tab--active {
  color: var(--ink-accent, #ffcc6e);
  background: var(--interactive-active, #a87c45);
  border-color: var(--accent-bronze, #a87c45);
  box-shadow: 0 -2px 0 var(--tech-amber, #ffcc6e) inset;
}

.all-nodes-mode-tab .mode-icon {
  font-size: var(--text-xs, 0.6875rem);
  opacity: 0.7;
}

.all-nodes-mode-tab .mode-label {
  font-weight: var(--weight-semibold, 600);
}

/* Resources Bar - Inset Panel */
.all-nodes-menu-resources {
  position: relative;
  z-index: 1;
  display: flex;
  justify-content: center;
  flex-wrap: wrap;
  gap: var(--space-3, 0.75rem);
  padding: var(--space-3, 0.75rem) var(--space-6, 1.5rem);
  background: var(--bg-panel-alt, #3b2f24);
  box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.4);
  border-bottom: var(--stroke-1, 1px) solid var(--stroke-subtle, rgba(168, 124, 69, 0.25));
}

.all-nodes-resource {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 2px;
  padding: var(--space-2, 0.5rem) var(--space-4, 1rem);
  min-width: 70px;
  background: var(--bg-surface, #2d2c2a);
  border: var(--stroke-1, 1px) solid var(--stroke-subtle, rgba(168, 124, 69, 0.25));
  border-radius: var(--radius-sm, 3px);
}

.all-nodes-resource .resource-icon {
  font-family: var(--font-terminal, 'JetBrains Mono', monospace);
  font-size: var(--text-xs, 0.6875rem);
  font-weight: var(--weight-bold, 700);
  color: var(--ink-muted, #6b6b6e);
  width: 20px;
  height: 20px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: var(--world-gunmetal, #3a3a3d);
  border-radius: 2px;
}

.all-nodes-resource .resource-value {
  font-size: var(--text-base, 0.875rem);
  font-weight: var(--weight-bold, 700);
  color: var(--ink, #e8e4dc);
}

.all-nodes-resource .resource-label {
  font-size: 9px;
  letter-spacing: var(--tracking-wide, 0.05em);
  text-transform: uppercase;
  color: var(--ink-muted, #6b6b6e);
}

/* Node Grid - World Panels */
.all-nodes-menu-grid {
  position: relative;
  z-index: 1;
  flex: 1;
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
  gap: var(--space-3, 0.75rem);
  padding: var(--space-4, 1rem) var(--space-6, 1.5rem);
  overflow-y: auto;
  align-content: start;
}

/* Node Button - Adventure Gothic Panel */
.all-nodes-node-btn {
  position: relative;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: var(--space-2, 0.5rem);
  padding: var(--space-4, 1rem) var(--space-3, 0.75rem);
  background: var(--bg-panel, #4d3f34);
  border: var(--stroke-2, 2px) solid var(--stroke-panel, #7a5a32);
  border-radius: var(--radius-panel, 6px);
  color: var(--ink, #e8e4dc);
  font-family: var(--font-ui, 'Inter', sans-serif);
  text-align: center;
  cursor: pointer;
  transition: all var(--transition-base, 0.15s ease);
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.5), 0 0 0 1px rgba(0, 0, 0, 0.2);
  overflow: hidden;
}

/* Corner bracket decoration */
.all-nodes-node-btn::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 12px;
  height: 12px;
  border-top: var(--stroke-2, 2px) solid var(--accent-bronze-dark, #7a5a32);
  border-left: var(--stroke-2, 2px) solid var(--accent-bronze-dark, #7a5a32);
  opacity: 0.6;
}

.all-nodes-node-btn::after {
  content: '';
  position: absolute;
  bottom: 0;
  right: 0;
  width: 12px;
  height: 12px;
  border-bottom: var(--stroke-2, 2px) solid var(--accent-bronze-dark, #7a5a32);
  border-right: var(--stroke-2, 2px) solid var(--accent-bronze-dark, #7a5a32);
  opacity: 0.6;
}

.all-nodes-node-btn:hover {
  background: var(--interactive-hover, #6b5d4f);
  border-color: var(--stroke-panel-hover, #a87c45);
  transform: translateY(-2px);
  box-shadow:
    0 4px 12px rgba(0, 0, 0, 0.6),
    0 0 0 1px rgba(0, 0, 0, 0.3),
    0 0 20px var(--accent-bronze-glow, rgba(168, 124, 69, 0.4));
}

.all-nodes-node-btn:active {
  transform: translateY(-1px);
}

.all-nodes-node-btn:focus-visible {
  outline: var(--stroke-2, 2px) solid var(--interactive-focus, #ffcc6e);
  outline-offset: 2px;
}

.all-nodes-node-btn .node-icon {
  font-family: var(--font-terminal, 'JetBrains Mono', monospace);
  font-size: var(--text-xs, 0.6875rem);
  font-weight: var(--weight-bold, 700);
  letter-spacing: var(--tracking-wide, 0.05em);
  color: var(--tech-amber, #ffcc6e);
  padding: var(--space-2, 0.5rem) var(--space-3, 0.75rem);
  background: var(--bg-surface, #2d2c2a);
  border: var(--stroke-1, 1px) solid var(--stroke-subtle, rgba(168, 124, 69, 0.25));
  border-radius: var(--radius-sm, 3px);
}

.all-nodes-node-btn .node-label {
  font-size: var(--text-sm, 0.75rem);
  font-weight: var(--weight-semibold, 600);
  text-transform: uppercase;
  letter-spacing: var(--tracking-wide, 0.05em);
  color: var(--ink, #e8e4dc);
}

.all-nodes-node-btn .node-desc {
  font-size: var(--text-xs, 0.6875rem);
  color: var(--ink-muted, #6b6b6e);
  letter-spacing: 0;
  text-transform: none;
}

/* Primary Button (OPS Terminal) */
.all-nodes-node-btn--primary {
  background: var(--accent-bronze-dark, #7a5a32);
  border-color: var(--accent-bronze, #a87c45);
}

.all-nodes-node-btn--primary:hover {
  background: var(--accent-bronze, #a87c45);
  border-color: var(--accent-bronze-light, #c9a066);
  box-shadow:
    0 4px 12px rgba(0, 0, 0, 0.6),
    var(--shadow-glow-bronze, 0 0 20px rgba(168, 124, 69, 0.4));
}

.all-nodes-node-btn--primary .node-icon {
  color: var(--world-parchment, #e8e4dc);
  background: rgba(0, 0, 0, 0.3);
  border-color: var(--accent-bronze-light, #c9a066);
}

/* Stable Button */
.all-nodes-node-btn--stable {
  background: var(--world-leather, #5c4a3a);
  border-color: var(--accent-bronze-dark, #7a5a32);
}

.all-nodes-node-btn--stable:hover {
  background: var(--world-canvas, #6b5d4f);
  border-color: var(--accent-bronze, #a87c45);
}

.all-nodes-node-btn--stable .node-icon {
  color: var(--accent-bronze-light, #c9a066);
}

/* Utility Button (Settings, Comms) */
.all-nodes-node-btn--utility {
  background: var(--world-gunmetal, #3a3a3d);
  border-color: var(--world-steel, #5d5d60);
}

.all-nodes-node-btn--utility:hover {
  background: var(--world-steel, #5d5d60);
  border-color: var(--world-pewter, #6b6b6e);
}

.all-nodes-node-btn--utility .node-icon {
  color: var(--ink-secondary, #a8a8a5);
}

/* Footer */
.all-nodes-menu-footer {
  position: relative;
  z-index: 1;
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: var(--space-3, 0.75rem) var(--space-6, 1.5rem);
  background: var(--bg-panel-alt, #3b2f24);
  border-top: var(--stroke-1, 1px) solid var(--stroke-subtle, rgba(168, 124, 69, 0.25));
}

/* Debug Section */
.all-nodes-debug-section {
  display: flex;
  align-items: center;
  gap: var(--space-3, 0.75rem);
}

.all-nodes-debug-section .debug-label {
  font-family: var(--font-terminal, 'JetBrains Mono', monospace);
  font-size: var(--text-xs, 0.6875rem);
  color: var(--tech-amber-dim, #d9a855);
  opacity: 0.7;
}

.all-nodes-debug-btn {
  display: flex;
  align-items: center;
  gap: var(--space-2, 0.5rem);
  padding: var(--space-2, 0.5rem) var(--space-3, 0.75rem);
  background: var(--accent-oxide-dark, #4a2020);
  border: var(--stroke-1, 1px) solid var(--accent-oxide, #6b2f2f);
  border-radius: var(--radius-sm, 3px);
  font-family: var(--font-terminal, 'JetBrains Mono', monospace);
  font-size: var(--text-xs, 0.6875rem);
  color: var(--tech-red, #ff6b5e);
  cursor: pointer;
  transition: all var(--transition-base, 0.15s ease);
}

.all-nodes-debug-btn:hover {
  background: var(--accent-oxide, #6b2f2f);
  border-color: var(--accent-oxide-light, #8a4242);
  box-shadow: 0 0 8px var(--tech-red-glow, rgba(255, 107, 94, 0.4));
}

.all-nodes-debug-btn .debug-icon {
  font-weight: var(--weight-bold, 700);
  opacity: 0.7;
}

.all-nodes-debug-btn .debug-text {
  font-size: 10px;
  letter-spacing: var(--tracking-wide, 0.05em);
}

/* Escape Hint */
.all-nodes-escape-hint {
  display: flex;
  align-items: center;
  gap: var(--space-2, 0.5rem);
  font-family: var(--font-terminal, 'JetBrains Mono', monospace);
  font-size: var(--text-xs, 0.6875rem);
  color: var(--ink-muted, #6b6b6e);
}

.all-nodes-escape-hint .hint-key {
  padding: 2px 6px;
  background: var(--bg-surface, #2d2c2a);
  border: var(--stroke-1, 1px) solid var(--stroke-subtle, rgba(168, 124, 69, 0.25));
  border-radius: 2px;
  color: var(--tech-crt, #35ff95);
}

.all-nodes-escape-hint .hint-text {
  opacity: 0.7;
}

/* Ghost Text Watermark */
.all-nodes-ghost {
  bottom: var(--space-12, 3rem);
  right: var(--space-6, 1.5rem);
  font-size: var(--text-2xl, 1.5rem);
  transform: rotate(-5deg);
  color: rgba(53, 255, 149, 0.04);
}

