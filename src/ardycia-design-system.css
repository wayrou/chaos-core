/* ==========================================================================
   ARDYCIA DESIGN SYSTEM - Chaos Core UI Overhaul

   Aesthetic Pillars:
   - Utilitycore / Adventure Gothic / Gear Punk
   - Steampunk Bronze + Industrial Futurism Decay
   - Atomic Autumn (warm autumn + industrial melancholy)
   - Retrofuture Noir (high-contrast, foggy, not cyberpunk)
   - ScrollLink OS UI (CRT glow, scanlines, terminal prompts)

   Inspired by: Final Fantasy Tactics Advance (panel hierarchy, tactical framing)
   ========================================================================== */

/* ==========================================================================
   SECTION 1: DESIGN TOKENS
   ========================================================================== */

:root {
  /* -------------------------------------------------------------------------
     1A. COLOR TOKENS - WORLD BASE (Worn-World Palette)
     ------------------------------------------------------------------------- */

  /* Earthy Greens & Browns - Primary world colors */
  --world-moss: #3d4a35;
  --world-lichen: #5a6b4a;
  --world-bark: #3b2f24;
  --world-walnut: #4d3f34;
  --world-leather: #5c4a3a;
  --world-canvas: #6b5d4f;

  /* Iron Greys - Structural/metal */
  --world-iron: #4a4a4d;
  --world-steel: #5d5d60;
  --world-gunmetal: #3a3a3d;
  --world-pewter: #6b6b6e;

  /* Mist Whites - Light accents */
  --world-mist: #c8c8c5;
  --world-fog: #a8a8a5;
  --world-parchment: #e8e4dc;
  --world-bone: #d4d0c8;

  /* Charcoal Blacks - Deep backgrounds */
  --world-coal: #1a1917;
  --world-soot: #232220;
  --world-ash: #2d2c2a;
  --world-smoke: #3a3937;

  /* -------------------------------------------------------------------------
     1B. COLOR TOKENS - SCROLLLINK TECH PALETTE (Terminal/OS)
     ------------------------------------------------------------------------- */

  /* CRT Greens */
  --tech-crt: #35ff95;
  --tech-crt-dim: #28cc78;
  --tech-crt-glow: rgba(53, 255, 149, 0.4);

  /* Soft Teals */
  --tech-teal: #8ce6ff;
  --tech-teal-dim: #6bc4dd;
  --tech-teal-glow: rgba(140, 230, 255, 0.35);

  /* Vintage Ambers */
  --tech-amber: #ffcc6e;
  --tech-amber-dim: #d9a855;
  --tech-amber-glow: rgba(255, 204, 110, 0.4);

  /* Ghost Violets */
  --tech-violet: #c0b3ff;
  --tech-violet-dim: #9a8fcc;
  --tech-violet-glow: rgba(192, 179, 255, 0.35);

  /* Terminal Red (warnings/errors) */
  --tech-red: #ff6b5e;
  --tech-red-dim: #cc5548;
  --tech-red-glow: rgba(255, 107, 94, 0.4);

  /* -------------------------------------------------------------------------
     1C. COLOR TOKENS - ACCENT METALS (Adventure Gothic)
     ------------------------------------------------------------------------- */

  /* Burnished Bronze - Primary accent */
  --accent-bronze: #a87c45;
  --accent-bronze-light: #c9a066;
  --accent-bronze-dark: #7a5a32;
  --accent-bronze-glow: rgba(168, 124, 69, 0.4);

  /* Oxide Red - Secondary accent / danger */
  --accent-oxide: #6b2f2f;
  --accent-oxide-light: #8a4242;
  --accent-oxide-dark: #4a2020;

  /* Steam Blue - Tertiary accent / tech */
  --accent-steam: #4fa2ff;
  --accent-steam-light: #7bb8ff;
  --accent-steam-dark: #3580cc;

  /* Aged Copper - Decorative */
  --accent-copper: #5a8a6a;
  --accent-copper-verdigris: #4a7a5a;

  /* Bronze Alpha Variants */
  --accent-bronze-10: rgba(168, 124, 69, 0.1);
  --accent-bronze-muted: #6b4f2d;
  --accent-bronze-alt: #6b5a35;

  /* Tech Color Alpha Variants */
  --tech-crt-05: rgba(53, 255, 149, 0.05);
  --tech-crt-10: rgba(53, 255, 149, 0.1);
  --tech-crt-15: rgba(53, 255, 149, 0.15);
  --tech-crt-30: rgba(53, 255, 149, 0.3);
  --tech-crt-40: rgba(53, 255, 149, 0.4);
  --tech-crt-50: rgba(53, 255, 149, 0.5);
  --tech-crt-60: rgba(53, 255, 149, 0.6);
  --tech-crt-80: rgba(95, 255, 175, 0.8);

  --tech-teal-05: rgba(140, 230, 255, 0.05);
  --tech-teal-15: rgba(140, 230, 255, 0.15);
  --tech-teal-20: rgba(140, 230, 255, 0.2);
  --tech-teal-40: rgba(140, 230, 255, 0.4);
  --tech-teal-60: rgba(140, 230, 255, 0.6);
  --tech-teal-80: rgba(176, 238, 255, 0.8);

  --tech-amber-10: rgba(255, 204, 110, 0.1);
  --tech-amber-30: rgba(255, 204, 110, 0.3);
  --tech-amber-50: rgba(255, 204, 110, 0.5);
  --tech-amber-60: rgba(255, 204, 110, 0.6);
  --tech-amber-80: rgba(255, 216, 138, 0.8);

  --tech-violet-40: rgba(192, 179, 255, 0.4);
  --tech-violet-60: rgba(192, 179, 255, 0.6);
  --tech-violet-80: rgba(216, 207, 255, 0.8);

  /* Rarity Alpha Variants */
  --rarity-common-30: rgba(136, 136, 136, 0.3);
  --rarity-common-40: rgba(136, 136, 136, 0.4);
  --rarity-common-60: rgba(100, 100, 100, 0.6);
  --rarity-common-80: rgba(136, 136, 136, 0.8);

  /* Danger/Error Color Variants */
  --color-danger: #ff6b6b;
  --color-danger-10: rgba(255, 107, 107, 0.1);
  --color-danger-20: rgba(195, 19, 44, 0.2);
  --color-danger-30: rgba(255, 107, 107, 0.3);
  --color-danger-50: rgba(195, 19, 44, 0.5);
  --color-danger-glow: rgba(255, 107, 107, 0.5);

  /* Success Color Variants */
  --color-success-dark: #1a7a48;
  --color-success-darker: #0f4a2c;

  /* -------------------------------------------------------------------------
     1D. SEMANTIC COLOR MAPPINGS
     ------------------------------------------------------------------------- */

  /* Backgrounds */
  --bg-world: var(--world-coal);
  --bg-panel: var(--world-walnut);
  --bg-panel-alt: var(--world-bark);
  --bg-surface: var(--world-ash);
  --bg-elevated: var(--world-smoke);
  --bg-terminal: rgba(10, 12, 15, 0.95);
  --bg-overlay: rgba(20, 19, 18, 0.92);
  --bg-inset: rgba(0, 0, 0, 0.3);
  --bg-inset-dark: rgba(0, 0, 0, 0.4);
  --overlay-bg: rgba(10, 8, 6, 0.95);

  /* Text/Ink */
  --ink: var(--world-parchment);
  --ink-secondary: var(--world-fog);
  --ink-muted: var(--world-pewter);
  --ink-disabled: var(--world-iron);
  --ink-accent: var(--tech-amber);
  --ink-terminal: var(--tech-crt);

  /* Borders */
  --stroke-panel: var(--accent-bronze-dark);
  --stroke-panel-hover: var(--accent-bronze);
  --stroke-terminal: var(--tech-crt-dim);
  --stroke-subtle: rgba(168, 124, 69, 0.25);
  --stroke-faint: rgba(168, 124, 69, 0.1);
  --stroke-disabled: #4a4843;

  /* Interactive States */
  --interactive-idle: var(--world-leather);
  --interactive-hover: var(--world-canvas);
  --interactive-active: var(--accent-bronze);
  --interactive-focus: var(--tech-amber);
  --interactive-disabled: var(--world-iron);

  /* Status */
  --status-success: #4a9a6a;
  --status-warning: var(--tech-amber);
  --status-danger: var(--accent-oxide-light);
  --status-info: var(--tech-teal);

  /* Combat */
  --combat-ally: var(--tech-crt);
  --combat-enemy: var(--tech-red);
  --combat-neutral: var(--tech-teal);
  --combat-heal: #5abb78;
  --combat-damage: #e85a4a;
  --combat-buff: var(--tech-amber);
  --combat-debuff: var(--tech-violet);

  /* Rarity */
  --rarity-common: var(--world-pewter);
  --rarity-uncommon: #5a9a6a;
  --rarity-rare: var(--accent-steam);
  --rarity-epic: var(--tech-violet);
  --rarity-legendary: var(--tech-amber);

  /* -------------------------------------------------------------------------
     1E. TYPOGRAPHY TOKENS
     ------------------------------------------------------------------------- */

  /* Font Families */
  --font-ui: 'Inter', 'Segoe UI', -apple-system, sans-serif;
  --font-terminal: 'JetBrains Mono', 'Fira Code', 'Consolas', monospace;
  --font-title: 'Inter', 'Segoe UI', -apple-system, sans-serif;

  /* Font Sizes */
  --text-xs: 0.6875rem;   /* 11px */
  --text-sm: 0.75rem;     /* 12px */
  --text-base: 0.875rem;  /* 14px */
  --text-md: 1rem;        /* 16px */
  --text-lg: 1.125rem;    /* 18px */
  --text-xl: 1.25rem;     /* 20px */
  --text-2xl: 1.5rem;     /* 24px */
  --text-3xl: 2rem;       /* 32px */

  /* Font Weights */
  --weight-normal: 400;
  --weight-medium: 500;
  --weight-semibold: 600;
  --weight-bold: 700;

  /* Letter Spacing */
  --tracking-tight: -0.01em;
  --tracking-normal: 0;
  --tracking-wide: 0.05em;
  --tracking-wider: 0.1em;
  --tracking-widest: 0.15em;

  /* Line Heights */
  --leading-tight: 1.2;
  --leading-normal: 1.5;
  --leading-relaxed: 1.75;

  /* -------------------------------------------------------------------------
     1F. SHAPE & MATERIAL TOKENS
     ------------------------------------------------------------------------- */

  /* Border Radius - FFTA-inspired rounded panels */
  --radius-sm: 3px;
  --radius-md: 5px;
  --radius-lg: 8px;
  --radius-xl: 12px;
  --radius-panel: 6px;

  /* Border Widths */
  --stroke-1: 1px;
  --stroke-2: 2px;
  --stroke-3: 3px;

  /* Shadows - Ink/vignette style, not soft dropshadow */
  --shadow-inset: inset 0 2px 4px rgba(0, 0, 0, 0.4);
  --shadow-elev-1: 0 2px 4px rgba(0, 0, 0, 0.5), 0 0 0 1px rgba(0, 0, 0, 0.2);
  --shadow-elev-2: 0 4px 12px rgba(0, 0, 0, 0.6), 0 0 0 1px rgba(0, 0, 0, 0.3);
  --shadow-elev-3: 0 8px 24px rgba(0, 0, 0, 0.7), 0 0 0 1px rgba(0, 0, 0, 0.4);
  --shadow-glow-bronze: 0 0 20px var(--accent-bronze-glow);
  --shadow-glow-crt: 0 0 15px var(--tech-crt-glow);
  --shadow-glow-amber: 0 0 15px var(--tech-amber-glow);

  /* Noise/Texture opacity */
  --noise-opacity: 0.03;
  --panel-grit-opacity: 0.04;
  --scanline-opacity: 0.04;

  /* -------------------------------------------------------------------------
     1G. SPACING TOKENS
     ------------------------------------------------------------------------- */

  --space-1: 0.25rem;   /* 4px */
  --space-2: 0.5rem;    /* 8px */
  --space-3: 0.75rem;   /* 12px */
  --space-4: 1rem;      /* 16px */
  --space-5: 1.25rem;   /* 20px */
  --space-6: 1.5rem;    /* 24px */
  --space-8: 2rem;      /* 32px */
  --space-10: 2.5rem;   /* 40px */
  --space-12: 3rem;     /* 48px */

  /* -------------------------------------------------------------------------
     1H. TRANSITION TOKENS
     ------------------------------------------------------------------------- */

  --transition-fast: 0.1s ease;
  --transition-base: 0.15s ease;
  --transition-slow: 0.25s ease;
  --transition-glitch: 0.05s steps(2);
}

/* ==========================================================================
   SECTION 2: UTILITY CLASSES & NOISE TEXTURES
   ========================================================================== */

/* Noise overlay generator (subtle grain texture) */
.ard-noise::before {
  content: '';
  position: absolute;
  inset: 0;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)' opacity='0.5'/%3E%3C/svg%3E");
  opacity: var(--noise-opacity);
  pointer-events: none;
  z-index: 1;
}

/* Scanline overlay (CRT effect) */
.ard-scanlines::after {
  content: '';
  position: absolute;
  inset: 0;
  background: repeating-linear-gradient(
    0deg,
    transparent,
    transparent 2px,
    rgba(0, 0, 0, 0.15) 2px,
    rgba(0, 0, 0, 0.15) 4px
  );
  opacity: var(--scanline-opacity);
  pointer-events: none;
  z-index: 2;
}

/* Reduced motion: disable animations */
@media (prefers-reduced-motion: reduce) {
  .ard-scanlines::after,
  .ard-glitch,
  .ard-pulse {
    animation: none !important;
  }

  * {
    transition-duration: 0.01ms !important;
    animation-duration: 0.01ms !important;
  }
}

/* ==========================================================================
   SECTION 3: WORLD PANELS (Adventure Gothic / Atomic Autumn)

   Weathered, functional panels with bronze accents and subtle grain
   ========================================================================== */

/* Base panel - worn parchment/leather/canvas feel */
.ard-panel {
  position: relative;
  background: var(--bg-panel);
  border: var(--stroke-2) solid var(--stroke-panel);
  border-radius: var(--radius-panel);
  box-shadow: var(--shadow-elev-1);
  overflow: hidden;
}

/* Panel with subtle corner brackets (FFTA style) */
.ard-panel--framed {
  background:
    /* Corner brackets */
    linear-gradient(135deg, var(--accent-bronze-dark) 8px, transparent 8px) top left,
    linear-gradient(-135deg, var(--accent-bronze-dark) 8px, transparent 8px) top right,
    linear-gradient(45deg, var(--accent-bronze-dark) 8px, transparent 8px) bottom left,
    linear-gradient(-45deg, var(--accent-bronze-dark) 8px, transparent 8px) bottom right,
    var(--bg-panel);
  background-size: 20px 20px, 20px 20px, 20px 20px, 20px 20px, 100% 100%;
  background-repeat: no-repeat;
}

/* Panel variants */
.ard-panel--dark {
  background: var(--bg-panel-alt);
  border-color: var(--world-gunmetal);
}

.ard-panel--elevated {
  box-shadow: var(--shadow-elev-2);
  border-color: var(--accent-bronze);
}

.ard-panel--inset {
  box-shadow: var(--shadow-inset);
  border-color: var(--world-gunmetal);
}

/* Panel header (tactical bar style) */
.ard-panel__header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: var(--space-3) var(--space-4);
  background: linear-gradient(180deg, var(--world-smoke) 0%, var(--bg-panel) 100%);
  border-bottom: var(--stroke-1) solid var(--stroke-subtle);
}

.ard-panel__title {
  font-family: var(--font-ui);
  font-size: var(--text-sm);
  font-weight: var(--weight-semibold);
  text-transform: uppercase;
  letter-spacing: var(--tracking-wider);
  color: var(--ink-accent);
  margin: 0;
}

.ard-panel__body {
  padding: var(--space-4);
}

.ard-panel__footer {
  padding: var(--space-3) var(--space-4);
  background: var(--bg-surface);
  border-top: var(--stroke-1) solid var(--stroke-subtle);
}

/* ==========================================================================
   SECTION 4: SCROLLLINK OS OVERLAYS (Retrofuture Terminal)

   CRT glow, scanlines, ghost text, tactical brackets
   ========================================================================== */

/* Terminal container */
.ard-terminal {
  position: relative;
  background: var(--bg-terminal);
  border: var(--stroke-2) solid var(--tech-crt-dim);
  border-radius: var(--radius-md);
  font-family: var(--font-terminal);
  color: var(--tech-crt);
  box-shadow:
    var(--shadow-elev-2),
    inset 0 0 60px rgba(53, 255, 149, 0.05);
  overflow: hidden;
}

.ard-terminal::before {
  content: '';
  position: absolute;
  inset: 0;
  background: repeating-linear-gradient(
    0deg,
    transparent,
    transparent 2px,
    rgba(0, 0, 0, 0.1) 2px,
    rgba(0, 0, 0, 0.1) 4px
  );
  pointer-events: none;
  z-index: 1;
}

/* Terminal header with OS-style title */
.ard-terminal__header {
  display: flex;
  align-items: center;
  gap: var(--space-2);
  padding: var(--space-2) var(--space-3);
  background: rgba(53, 255, 149, 0.08);
  border-bottom: var(--stroke-1) solid var(--tech-crt-dim);
}

.ard-terminal__title {
  font-size: var(--text-xs);
  text-transform: uppercase;
  letter-spacing: var(--tracking-widest);
  color: var(--tech-crt);
}

.ard-terminal__body {
  position: relative;
  padding: var(--space-4);
  z-index: 2;
}

/* Terminal text styles */
.ard-terminal-text {
  font-family: var(--font-terminal);
  font-size: var(--text-sm);
  line-height: var(--leading-relaxed);
  color: var(--tech-crt);
  text-shadow: 0 0 8px var(--tech-crt-glow);
}

.ard-terminal-text--amber {
  color: var(--tech-amber);
  text-shadow: 0 0 8px var(--tech-amber-glow);
}

.ard-terminal-text--violet {
  color: var(--tech-violet);
  text-shadow: 0 0 8px var(--tech-violet-glow);
}

.ard-terminal-text--red {
  color: var(--tech-red);
  text-shadow: 0 0 8px var(--tech-red-glow);
}

/* Ghost text watermark */
.ard-ghost-text {
  position: absolute;
  font-family: var(--font-terminal);
  font-size: var(--text-xs);
  color: rgba(53, 255, 149, 0.08);
  text-transform: uppercase;
  letter-spacing: var(--tracking-widest);
  pointer-events: none;
  user-select: none;
  white-space: nowrap;
}

/* Terminal prompt cursor */
.ard-cursor {
  display: inline-block;
  width: 0.5em;
  height: 1em;
  background: var(--tech-crt);
  animation: ard-blink 1s step-end infinite;
  vertical-align: text-bottom;
}

@keyframes ard-blink {
  50% { opacity: 0; }
}

/* Tactical brackets (vector separators) */
.ard-bracket {
  display: inline-flex;
  align-items: center;
  gap: var(--space-2);
  padding: var(--space-1) var(--space-2);
  border: var(--stroke-1) solid var(--tech-crt-dim);
  font-family: var(--font-terminal);
  font-size: var(--text-xs);
  color: var(--tech-crt);
}

.ard-bracket::before,
.ard-bracket::after {
  content: '';
  width: 6px;
  height: 6px;
  border: var(--stroke-1) solid var(--tech-crt-dim);
}

.ard-bracket::before {
  border-right: none;
  border-bottom: none;
}

.ard-bracket::after {
  border-left: none;
  border-top: none;
}

/* ==========================================================================
   SECTION 5: FFTA-STYLE MENU COMPONENTS

   Layered panels, clear hierarchy, tabbed categories, list-focus UX
   ========================================================================== */

/* Menu container - layered parchment windows */
.ard-menu {
  display: flex;
  gap: var(--space-4);
  height: 100%;
}

/* Left navigation list */
.ard-menu__nav {
  width: 240px;
  flex-shrink: 0;
  display: flex;
  flex-direction: column;
  background: var(--bg-panel-alt);
  border: var(--stroke-2) solid var(--stroke-panel);
  border-radius: var(--radius-panel);
  overflow: hidden;
}

.ard-menu__nav-header {
  padding: var(--space-3) var(--space-4);
  background: var(--world-smoke);
  border-bottom: var(--stroke-1) solid var(--stroke-subtle);
}

.ard-menu__nav-title {
  font-size: var(--text-sm);
  font-weight: var(--weight-semibold);
  text-transform: uppercase;
  letter-spacing: var(--tracking-wide);
  color: var(--ink-accent);
  margin: 0;
}

.ard-menu__nav-list {
  flex: 1;
  overflow-y: auto;
  padding: var(--space-2);
}

/* Right detail panel */
.ard-menu__detail {
  flex: 1;
  display: flex;
  flex-direction: column;
  background: var(--bg-panel);
  border: var(--stroke-2) solid var(--stroke-panel);
  border-radius: var(--radius-panel);
  overflow: hidden;
}

.ard-menu__detail-header {
  flex-shrink: 0;
  padding: var(--space-4);
  background: linear-gradient(180deg, var(--world-smoke) 0%, var(--bg-panel) 100%);
  border-bottom: var(--stroke-1) solid var(--stroke-subtle);
}

.ard-menu__detail-body {
  flex: 1;
  overflow-y: auto;
  padding: var(--space-4);
}

/* List items with icon + label + sublabel */
.ard-list-item {
  display: flex;
  align-items: center;
  gap: var(--space-3);
  padding: var(--space-3) var(--space-4);
  background: transparent;
  border: var(--stroke-1) solid transparent;
  border-radius: var(--radius-md);
  cursor: pointer;
  transition: all var(--transition-base);
}

.ard-list-item:hover {
  background: var(--interactive-hover);
  border-color: var(--stroke-subtle);
}

.ard-list-item--selected {
  background: var(--interactive-active);
  border-color: var(--accent-bronze);
  box-shadow:
    inset 3px 0 0 var(--tech-amber),
    var(--shadow-glow-amber);
}

.ard-list-item__icon {
  width: 32px;
  height: 32px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: var(--bg-surface);
  border: var(--stroke-1) solid var(--stroke-subtle);
  border-radius: var(--radius-sm);
  font-size: var(--text-lg);
}

.ard-list-item__content {
  flex: 1;
  min-width: 0;
}

.ard-list-item__label {
  font-size: var(--text-base);
  font-weight: var(--weight-medium);
  color: var(--ink);
  margin: 0;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.ard-list-item__sublabel {
  font-size: var(--text-xs);
  color: var(--ink-muted);
  margin: 0;
}

/* Tabs with strong focus */
.ard-tabs {
  display: flex;
  gap: var(--space-1);
  padding: var(--space-2);
  background: var(--bg-surface);
  border-radius: var(--radius-md);
}

.ard-tab {
  flex: 1;
  padding: var(--space-2) var(--space-4);
  background: transparent;
  border: var(--stroke-1) solid transparent;
  border-radius: var(--radius-sm);
  font-family: var(--font-ui);
  font-size: var(--text-sm);
  font-weight: var(--weight-medium);
  text-transform: uppercase;
  letter-spacing: var(--tracking-wide);
  color: var(--ink-muted);
  cursor: pointer;
  transition: all var(--transition-base);
}

.ard-tab:hover {
  color: var(--ink);
  background: var(--interactive-hover);
}

.ard-tab--active {
  color: var(--ink-accent);
  background: var(--interactive-active);
  border-color: var(--accent-bronze);
  box-shadow: 0 -2px 0 var(--tech-amber) inset;
}

.ard-tab:focus-visible {
  outline: var(--stroke-2) solid var(--interactive-focus);
  outline-offset: 2px;
}

/* ==========================================================================
   SECTION 6: BUTTONS
   ========================================================================== */

/* Base button */
.ard-btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: var(--space-2);
  padding: var(--space-3) var(--space-5);
  background: var(--interactive-idle);
  border: var(--stroke-2) solid var(--stroke-panel);
  border-radius: var(--radius-md);
  font-family: var(--font-ui);
  font-size: var(--text-sm);
  font-weight: var(--weight-semibold);
  text-transform: uppercase;
  letter-spacing: var(--tracking-wide);
  color: var(--ink);
  cursor: pointer;
  transition: all var(--transition-base);
  text-decoration: none;
}

.ard-btn:hover {
  background: var(--interactive-hover);
  border-color: var(--stroke-panel-hover);
  transform: translateY(-1px);
}

.ard-btn:active {
  transform: translateY(0);
}

.ard-btn:focus-visible {
  outline: var(--stroke-2) solid var(--interactive-focus);
  outline-offset: 2px;
}

.ard-btn:disabled,
.ard-btn--disabled {
  background: var(--interactive-disabled);
  border-color: var(--world-gunmetal);
  color: var(--ink-disabled);
  cursor: not-allowed;
  transform: none;
}

/* Button variants */
.ard-btn--primary {
  background: var(--accent-bronze-dark);
  border-color: var(--accent-bronze);
  color: var(--world-parchment);
}

.ard-btn--primary:hover {
  background: var(--accent-bronze);
  border-color: var(--accent-bronze-light);
  box-shadow: var(--shadow-glow-bronze);
}

.ard-btn--secondary {
  background: var(--bg-surface);
  border-color: var(--stroke-subtle);
  color: var(--ink-secondary);
}

.ard-btn--secondary:hover {
  background: var(--interactive-hover);
  border-color: var(--stroke-panel);
  color: var(--ink);
}

.ard-btn--danger {
  background: var(--accent-oxide-dark);
  border-color: var(--accent-oxide);
  color: var(--world-parchment);
}

.ard-btn--danger:hover {
  background: var(--accent-oxide);
  border-color: var(--accent-oxide-light);
}

.ard-btn--ghost {
  background: transparent;
  border-color: transparent;
  color: var(--ink-secondary);
}

.ard-btn--ghost:hover {
  background: var(--bg-surface);
  color: var(--ink);
}

/* Button sizes */
.ard-btn--sm {
  padding: var(--space-2) var(--space-3);
  font-size: var(--text-xs);
}

.ard-btn--lg {
  padding: var(--space-4) var(--space-6);
  font-size: var(--text-base);
}

/* Button with icon */
.ard-btn__icon {
  font-size: 1.25em;
  opacity: 0.9;
}

/* ==========================================================================
   SECTION 7: FORM CONTROLS
   ========================================================================== */

/* Toggle switch */
.ard-toggle {
  position: relative;
  width: 44px;
  height: 24px;
  background: var(--bg-surface);
  border: var(--stroke-2) solid var(--stroke-panel);
  border-radius: 12px;
  cursor: pointer;
  transition: all var(--transition-base);
}

.ard-toggle::after {
  content: '';
  position: absolute;
  top: 2px;
  left: 2px;
  width: 16px;
  height: 16px;
  background: var(--ink-muted);
  border-radius: 50%;
  transition: all var(--transition-base);
}

.ard-toggle--active {
  background: var(--accent-bronze-dark);
  border-color: var(--accent-bronze);
}

.ard-toggle--active::after {
  left: calc(100% - 18px);
  background: var(--tech-amber);
}

/* Dropdown */
.ard-select {
  appearance: none;
  padding: var(--space-2) var(--space-4);
  padding-right: var(--space-8);
  background: var(--bg-surface);
  border: var(--stroke-1) solid var(--stroke-panel);
  border-radius: var(--radius-md);
  font-family: var(--font-ui);
  font-size: var(--text-sm);
  color: var(--ink);
  cursor: pointer;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23a87c45' d='M2 4l4 4 4-4'/%3E%3C/svg%3E");
  background-repeat: no-repeat;
  background-position: right 12px center;
}

.ard-select:focus {
  outline: var(--stroke-2) solid var(--interactive-focus);
  outline-offset: 2px;
}

/* ==========================================================================
   SECTION 8: TOOLTIPS & MODALS
   ========================================================================== */

/* Tooltip */
.ard-tooltip {
  position: absolute;
  z-index: 1000;
  max-width: 280px;
  padding: var(--space-3) var(--space-4);
  background: var(--bg-terminal);
  border: var(--stroke-1) solid var(--tech-crt-dim);
  border-radius: var(--radius-md);
  font-family: var(--font-terminal);
  font-size: var(--text-sm);
  color: var(--tech-crt);
  box-shadow: var(--shadow-elev-2);
  pointer-events: none;
}

.ard-tooltip::before {
  content: '';
  position: absolute;
  top: -6px;
  left: 50%;
  transform: translateX(-50%);
  border: 6px solid transparent;
  border-bottom-color: var(--tech-crt-dim);
}

/* Modal */
.ard-modal-overlay {
  position: fixed;
  inset: 0;
  background: rgba(10, 10, 10, 0.85);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 900;
  animation: ard-fade-in 0.2s ease;
}

@keyframes ard-fade-in {
  from { opacity: 0; }
  to { opacity: 1; }
}

.ard-modal {
  position: relative;
  width: 90%;
  max-width: 600px;
  max-height: 85vh;
  background: var(--bg-panel);
  border: var(--stroke-2) solid var(--accent-bronze);
  border-radius: var(--radius-lg);
  box-shadow: var(--shadow-elev-3);
  overflow: hidden;
  display: flex;
  flex-direction: column;
  animation: ard-slide-up 0.25s ease;
}

@keyframes ard-slide-up {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.ard-modal__header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: var(--space-4);
  background: var(--world-smoke);
  border-bottom: var(--stroke-1) solid var(--stroke-subtle);
}

.ard-modal__title {
  font-size: var(--text-lg);
  font-weight: var(--weight-semibold);
  text-transform: uppercase;
  letter-spacing: var(--tracking-wide);
  color: var(--ink-accent);
  margin: 0;
}

.ard-modal__close {
  width: 32px;
  height: 32px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: transparent;
  border: var(--stroke-1) solid var(--stroke-subtle);
  border-radius: var(--radius-sm);
  color: var(--ink-muted);
  cursor: pointer;
  transition: all var(--transition-base);
}

.ard-modal__close:hover {
  background: var(--accent-oxide-dark);
  border-color: var(--accent-oxide);
  color: var(--ink);
}

.ard-modal__body {
  flex: 1;
  padding: var(--space-4);
  overflow-y: auto;
}

.ard-modal__footer {
  display: flex;
  justify-content: flex-end;
  gap: var(--space-3);
  padding: var(--space-4);
  background: var(--bg-surface);
  border-top: var(--stroke-1) solid var(--stroke-subtle);
}

/* ==========================================================================
   SECTION 9: TOASTS & NOTIFICATIONS
   ========================================================================== */

.ard-toast {
  position: fixed;
  bottom: var(--space-6);
  right: var(--space-6);
  min-width: 300px;
  max-width: 400px;
  padding: var(--space-4);
  background: var(--bg-terminal);
  border: var(--stroke-1) solid var(--tech-crt-dim);
  border-radius: var(--radius-md);
  box-shadow: var(--shadow-elev-2);
  z-index: 1100;
  animation: ard-toast-in 0.3s ease;
}

@keyframes ard-toast-in {
  from {
    opacity: 0;
    transform: translateX(100%);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

.ard-toast--success {
  border-color: var(--status-success);
}

.ard-toast--warning {
  border-color: var(--status-warning);
}

.ard-toast--danger {
  border-color: var(--status-danger);
}

.ard-toast__message {
  font-family: var(--font-terminal);
  font-size: var(--text-sm);
  color: var(--ink-terminal);
}

/* ==========================================================================
   SECTION 10: HUD ELEMENTS (Battle & Field)
   ========================================================================== */

/* HUD frame */
.ard-hud {
  position: fixed;
  background: var(--bg-panel);
  border: var(--stroke-2) solid var(--stroke-panel);
  border-radius: var(--radius-panel);
  box-shadow: var(--shadow-elev-2);
  pointer-events: auto;
}

.ard-hud--top-left {
  top: var(--space-4);
  left: var(--space-4);
}

.ard-hud--top-right {
  top: var(--space-4);
  right: var(--space-4);
}

.ard-hud--bottom-left {
  bottom: var(--space-4);
  left: var(--space-4);
}

.ard-hud--bottom-right {
  bottom: var(--space-4);
  right: var(--space-4);
}

/* Turn banner */
.ard-turn-banner {
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  padding: var(--space-4) var(--space-8);
  background: var(--bg-terminal);
  border: var(--stroke-2) solid var(--tech-amber);
  border-radius: var(--radius-lg);
  box-shadow:
    var(--shadow-elev-3),
    var(--shadow-glow-amber);
  z-index: 800;
  animation: ard-banner-pulse 0.5s ease;
}

@keyframes ard-banner-pulse {
  0%, 100% { transform: translate(-50%, -50%) scale(1); }
  50% { transform: translate(-50%, -50%) scale(1.02); }
}

.ard-turn-banner__text {
  font-family: var(--font-terminal);
  font-size: var(--text-xl);
  font-weight: var(--weight-bold);
  text-transform: uppercase;
  letter-spacing: var(--tracking-widest);
  color: var(--tech-amber);
  text-shadow: 0 0 10px var(--tech-amber-glow);
}

/* Resource display */
.ard-resource {
  display: inline-flex;
  align-items: center;
  gap: var(--space-2);
  padding: var(--space-1) var(--space-3);
  background: var(--bg-surface);
  border: var(--stroke-1) solid var(--stroke-subtle);
  border-radius: var(--radius-sm);
}

.ard-resource__icon {
  font-size: var(--text-base);
}

.ard-resource__value {
  font-family: var(--font-terminal);
  font-size: var(--text-sm);
  font-weight: var(--weight-bold);
  color: var(--ink-accent);
}

.ard-resource__label {
  font-size: var(--text-xs);
  color: var(--ink-muted);
  text-transform: uppercase;
}

/* ==========================================================================
   SECTION 11: STAT BARS & INDICATORS
   ========================================================================== */

/* Progress bar */
.ard-bar {
  position: relative;
  height: 8px;
  background: var(--bg-surface);
  border: var(--stroke-1) solid var(--stroke-subtle);
  border-radius: var(--radius-sm);
  overflow: hidden;
}

.ard-bar__fill {
  height: 100%;
  background: var(--accent-bronze);
  border-radius: inherit;
  transition: width var(--transition-slow);
}

.ard-bar--hp .ard-bar__fill {
  background: linear-gradient(90deg, var(--status-success) 0%, #6abb78 100%);
}

.ard-bar--hp.ard-bar--low .ard-bar__fill {
  background: linear-gradient(90deg, var(--tech-red) 0%, #ff8866 100%);
}

.ard-bar--strain .ard-bar__fill {
  background: linear-gradient(90deg, var(--tech-violet) 0%, var(--tech-violet-dim) 100%);
}

.ard-bar--exp .ard-bar__fill {
  background: linear-gradient(90deg, var(--tech-amber) 0%, var(--tech-amber-dim) 100%);
}

/* Stat chip */
.ard-stat-chip {
  display: inline-flex;
  align-items: center;
  gap: var(--space-1);
  padding: var(--space-1) var(--space-2);
  background: var(--bg-surface);
  border: var(--stroke-1) solid var(--stroke-subtle);
  border-radius: var(--radius-sm);
  font-family: var(--font-terminal);
  font-size: var(--text-xs);
}

.ard-stat-chip__label {
  color: var(--ink-muted);
  text-transform: uppercase;
}

.ard-stat-chip__value {
  color: var(--ink);
  font-weight: var(--weight-bold);
}

.ard-stat-chip--buff .ard-stat-chip__value {
  color: var(--combat-buff);
}

.ard-stat-chip--debuff .ard-stat-chip__value {
  color: var(--combat-debuff);
}

/* ==========================================================================
   SECTION 12: CARD DISPLAY (Tactical Cards)
   ========================================================================== */

.ard-card {
  position: relative;
  width: 120px;
  padding: var(--space-3);
  background: var(--bg-panel);
  border: var(--stroke-2) solid var(--stroke-panel);
  border-radius: var(--radius-md);
  box-shadow: var(--shadow-elev-1);
  transition: all var(--transition-base);
  cursor: pointer;
}

.ard-card:hover {
  transform: translateY(-4px);
  box-shadow: var(--shadow-elev-2);
  border-color: var(--accent-bronze);
}

.ard-card--selected {
  border-color: var(--tech-amber);
  box-shadow: var(--shadow-glow-amber);
}

.ard-card__header {
  margin-bottom: var(--space-2);
}

.ard-card__name {
  font-size: var(--text-xs);
  font-weight: var(--weight-semibold);
  color: var(--ink);
  margin: 0;
  line-height: var(--leading-tight);
}

.ard-card__cost {
  position: absolute;
  top: var(--space-2);
  right: var(--space-2);
  width: 20px;
  height: 20px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: var(--accent-bronze-dark);
  border: var(--stroke-1) solid var(--accent-bronze);
  border-radius: 50%;
  font-family: var(--font-terminal);
  font-size: var(--text-xs);
  font-weight: var(--weight-bold);
  color: var(--tech-amber);
}

.ard-card__body {
  font-size: 10px;
  color: var(--ink-muted);
  line-height: var(--leading-normal);
}

/* Rarity indicators */
.ard-card--common { border-left: 3px solid var(--rarity-common); }
.ard-card--uncommon { border-left: 3px solid var(--rarity-uncommon); }
.ard-card--rare { border-left: 3px solid var(--rarity-rare); }
.ard-card--epic { border-left: 3px solid var(--rarity-epic); }
.ard-card--legendary { border-left: 3px solid var(--rarity-legendary); }

/* ==========================================================================
   SECTION 13: ACCESSIBILITY & HIGH CONTRAST
   ========================================================================== */

@media (prefers-contrast: more) {
  :root {
    --ink: #ffffff;
    --ink-secondary: #e0e0e0;
    --ink-muted: #c0c0c0;
    --stroke-panel: #a87c45;
    --stroke-subtle: rgba(168, 124, 69, 0.5);
  }

  .ard-btn:focus-visible,
  .ard-tab:focus-visible,
  .ard-list-item:focus-visible {
    outline-width: 3px;
  }
}

/* Focus visible for keyboard navigation */
:focus-visible {
  outline: var(--stroke-2) solid var(--interactive-focus);
  outline-offset: 2px;
}

/* Skip link for accessibility */
.ard-skip-link {
  position: absolute;
  top: -100px;
  left: var(--space-4);
  padding: var(--space-3) var(--space-4);
  background: var(--bg-terminal);
  border: var(--stroke-2) solid var(--tech-crt);
  color: var(--tech-crt);
  z-index: 9999;
  transition: top var(--transition-fast);
}

.ard-skip-link:focus {
  top: var(--space-4);
}

/* ==========================================================================
   SECTION 14: DEBUG WATERMARK (Dev builds only)
   ========================================================================== */

.ard-debug-watermark {
  position: fixed;
  bottom: var(--space-2);
  left: var(--space-2);
  padding: var(--space-1) var(--space-2);
  background: rgba(0, 0, 0, 0.6);
  border: var(--stroke-1) solid var(--tech-crt-dim);
  border-radius: var(--radius-sm);
  font-family: var(--font-terminal);
  font-size: 9px;
  color: var(--tech-crt);
  text-transform: uppercase;
  letter-spacing: var(--tracking-wide);
  pointer-events: none;
  z-index: 9999;
  opacity: 0.7;
}

/* Screen-specific debug markers */
.ard-debug-screen-marker {
  position: fixed;
  top: var(--space-2);
  right: var(--space-2);
  padding: var(--space-1) var(--space-3);
  background: var(--bg-terminal);
  border: var(--stroke-1) solid var(--tech-amber);
  border-radius: var(--radius-sm);
  font-family: var(--font-terminal);
  font-size: 10px;
  color: var(--tech-amber);
  text-transform: uppercase;
  letter-spacing: var(--tracking-wide);
  pointer-events: none;
  z-index: 9999;
  opacity: 0.8;
}

/* CSS grid debug overlay */
.ard-debug-grid {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  pointer-events: none;
  z-index: 9998;
  background:
    repeating-linear-gradient(
      0deg,
      transparent,
      transparent calc(var(--space-4) - 1px),
      rgba(53, 255, 149, 0.1) calc(var(--space-4) - 1px),
      rgba(53, 255, 149, 0.1) var(--space-4)
    ),
    repeating-linear-gradient(
      90deg,
      transparent,
      transparent calc(var(--space-4) - 1px),
      rgba(53, 255, 149, 0.1) calc(var(--space-4) - 1px),
      rgba(53, 255, 149, 0.1) var(--space-4)
    );
}

/* Token debug: show all CSS variables being used */
.ard-debug-tokens * {
  outline: 1px solid rgba(255, 0, 255, 0.3) !important;
}

/* ==========================================================================
   STYLE GUIDE REFERENCE
   ==========================================================================

   ## Ardycia Design System v1.0

   ### Color Usage:

   WORLD PALETTE (Adventure Gothic):
   - --world-moss, --world-bark, --world-walnut: Primary world backgrounds
   - --world-iron, --world-steel: Structural/metal elements
   - --world-parchment, --world-fog: Text and light accents
   - --world-coal, --world-ash: Deep backgrounds

   TECH PALETTE (ScrollLink OS):
   - --tech-crt: Terminal text, success states, health
   - --tech-teal: Selected items, rare items, info states
   - --tech-amber: Accents, headings, legendary items
   - --tech-violet: Epic items, buffs, magic
   - --tech-red: Errors, damage, danger

   ACCENT METALS:
   - --accent-bronze: Primary UI accent, panel borders
   - --accent-oxide: Danger/error states
   - --accent-steam: Tech/mechanical elements

   ### Typography:

   FONTS:
   - --font-ui: Interface text (Inter/system)
   - --font-terminal: Monospace for terminal, stats, labels
   - --font-title: Headings (same as ui for now)

   SIZES (rem-based):
   - --text-xs (11px): Labels, badges
   - --text-sm (12px): Body text, buttons
   - --text-base (14px): Standard text
   - --text-lg/xl/2xl/3xl: Headers

   ### Component Patterns:

   WORLD PANELS (.ard-panel):
   - Bronze-bordered containers for game content
   - Use --bg-panel or --bg-panel-alt backgrounds
   - Add .ard-panel--inset for recessed panels

   SCROLLLINK OS (.slk-*):
   - Terminal-style overlays with CRT green
   - Use .slk-terminal-bar for header bars
   - Add scanline effect with ::after pseudo-element

   FFTA TABS (.ard-tab-bar):
   - Horizontal tab bars for category selection
   - Use --tech-amber for active state underline

   ### Interactive States:

   - idle: --interactive-idle (leather brown)
   - hover: --interactive-hover (canvas beige)
   - active: --interactive-active (bronze)
   - focus: --interactive-focus (amber outline)
   - disabled: --interactive-disabled (iron grey)

   ### Spacing Scale:

   - --space-1: 4px (tight padding)
   - --space-2: 8px (element spacing)
   - --space-3: 12px (standard padding)
   - --space-4: 16px (section gaps)
   - --space-6+: Large gaps, margins

   ========================================================================== */
